!function(){"use strict";var e={789:function(e,t,n){e.exports=n.p+"4e8e0a1d604782a0dff8.svg"},106:function(e,t,n){e.exports=n.p+"910c81e7387e24f6f846.svg"},294:function(e,t,n){e.exports=n.p+"a086f758840ae814ecde.svg"},21:function(e,t,n){e.exports=n.p+"a1892ea72cb87c8fc3aa.svg"},501:function(e,t,n){e.exports=n.p+"d86bb2edc2f6eadb96b7.svg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.b=document.baseURI||self.location.href,function(){var e={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},t=document.querySelector(".profile"),r=t.querySelector(".profile__info"),o=t.querySelector(".profile__picture"),i=t.querySelector(".profile__image"),u=r.querySelector(".profile__edit-button"),a=document.querySelector("#profile-form"),s=r.querySelector(".profile__name"),l=r.querySelector(".profile__about-me"),c=a.querySelector("#name-input"),f=a.querySelector("#about-me-input"),p=t.querySelector(".profile__add-button"),y=document.querySelector("#image-zoom").querySelector(".popup__zoom"),d=y.querySelector(".popup__image"),m=y.querySelector(".popup__description"),h=new URL(n(789),n.b),v=new URL(n(106),n.b),b=new URL(n(21),n.b),_=new URL(n(501),n.b),S=new URL(n(294),n.b),g=[{paths:document.querySelectorAll(".header__image"),src:h},{paths:document.querySelectorAll(".popup__close-button"),src:v},{paths:document.querySelectorAll(".profile__edit-button"),src:b},{paths:document.querySelectorAll(".profile__plus-sign"),src:_},{paths:document.querySelectorAll(".profile__edit-picture"),src:S}];function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===k(o)?o:String(o)),r)}var o}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}var t,n;return t=e,n=[{key:"getInitialCards",value:function(){var e=this.baseUrl+"/cards",t={headers:this.headers};return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"postCards",value:function(e){var t=this.baseUrl+"/cards",n={headers:this.headers,method:"POST",body:JSON.stringify({name:e.name,link:e.link})};return fetch(t,n).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"deleteCard",value:function(e){var t=this.baseUrl+"/cards/"+e,n={headers:this.headers,method:"DELETE"};return fetch(t,n).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"likeCard",value:function(e,t){var n=t?"DELETE":"PUT",r=this.baseUrl+"/cards/likes/"+e,o={headers:this.headers,method:n};return fetch(r,o).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getProfileInfo",value:function(){var e=this.baseUrl+"/users/me",t={headers:this.headers};return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"updateProfileInfo",value:function(e){var t=this.baseUrl+"/users/me",n={headers:this.headers,method:"PATCH",body:JSON.stringify({name:e.name,about:e.about})};return fetch(t,n).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"updateProfileImage",value:function(e){var t=this.baseUrl+"/users/me/avatar ",n={headers:this.headers,method:"PATCH",body:JSON.stringify({avatar:e.avatar})};return fetch(t,n).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}],n&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===P(o)?o:String(o)),r)}var o}var L=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=document.querySelector(t),this._popupCloseButton=this._popupSelector.querySelector(".popup__close-button")}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupSelector.classList.add("popup__active"),this._setEventListeners()}},{key:"close",value:function(){document.removeEventListener("keydown",this._boundHandleEscClose),document.removeEventListener("click",this._boundHandleClickOverlay),this._popupCloseButton.removeEventListener("click",this._boundClose),this._popupSelector.classList.remove("popup__active")}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleClickOverlay",value:function(e){e.target.classList.contains("popup__overlay")&&this.close()}},{key:"_setBoundFunctions",value:function(){this._boundHandleEscClose=this._handleEscClose.bind(this),this._boundHandleClickOverlay=this._handleClickOverlay.bind(this),this._boundClose=this.close.bind(this)}},{key:"_setEventListeners",value:function(){this._setBoundFunctions(),document.addEventListener("keydown",this._boundHandleEscClose),document.addEventListener("click",this._boundHandleClickOverlay),this._popupCloseButton.addEventListener("click",this._boundClose)}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},I.apply(this,arguments)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e,t){var n,r=t.image,o=t.imageAlt,a=t.legend;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._image=r,n._imageAlt=o,n._legend=a,n}return t=u,(n=[{key:"open",value:function(){d.src=this._image,d.alt=this._imageAlt,m.textContent=this._legend,I(B(u.prototype),"open",this).call(this)}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(L);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===T(o)?o:String(o)),r)}var o}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},A.apply(this,arguments)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(o){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._submitForm=t,n._formElement=n._popupSelector.querySelector(".popup__form"),n._submitElement=n._popupSelector.querySelector(".popup__button"),n}return t=u,(n=[{key:"_getInputValues",value:function(){return this._popupInputs=this._popupSelector.querySelectorAll(".popup__input"),this._popupInputs}},{key:"_renderLoading",value:function(e){e?this._submitElement.textContent="Salvando...":"#delete-form"==this._popupSelector?this._submitElement.textContent="Sim":this._submitElement.textContent="Salvar"}},{key:"_submitFunction",value:function(e){var t=this;e.preventDefault(),this._renderLoading(!0);var n=this._getInputValues();new Promise((function(e,r){e(n[0]?t._submitForm(n):t._submitForm())})).then((function(){t._renderLoading(!1),t.close()})).catch((function(e){console.log(e)}))}},{key:"_setBoundFunctions",value:function(){A(V(u.prototype),"_setBoundFunctions",this).call(this),this._boundsubmitFunction=this._submitFunction.bind(this)}},{key:"_setEventListeners",value:function(){A(V(u.prototype),"_setEventListeners",this).call(this),this._variables=this._getInputValues(),this._formElement.addEventListener("submit",this._boundsubmitFunction,!1)}},{key:"close",value:function(){A(V(u.prototype),"close",this).call(this),this._getInputValues(),this._popupInputs.forEach((function(e){e.value=""})),this._formElement.removeEventListener("submit",this._boundsubmitFunction,!1)}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(L);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}var N=function(){function e(t){var n=t._id,r=t.name,o=t.link,i=t.ownerId,u=t.userId,a=t.likesArray,s=t.templateSelector,l=t.api;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=n,this._name=r,this._link=o,this._templateSelector=s,this._ownerId=i,this._userId=u,this._numberOfLikes=Object.keys(a).length,this._likesArray=a,this._isOwned=i==u,this._isLikedByUser=!1,this._api=l}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".post").cloneNode(!0)}},{key:"_setDeleteButton",value:function(){this._isOwned||this._element.querySelector(".post__delete-button").remove()}},{key:"_setLikesNumber",value:function(){this._element.querySelector(".post__like-number").textContent=this._numberOfLikes}},{key:"_setLikedButton",value:function(){var e=this;this._numberOfLikes>0&&this._likesArray.forEach((function(t){t._id==e._userId&&(e._isLikedByUser=!0)})),this._isLikedByUser&&this._element.querySelector(".post__like-button").classList.add("post__like_clicked")}},{key:"_configElement",value:function(){this._element.querySelector(".post__description").textContent=this._name,this._element.querySelector(".post__image").src=this._link,this._element.querySelector(".post__image").alt="Foto de ".concat(this._name),this._setDeleteButton(),this._setLikesNumber(),this._setLikedButton()}},{key:"_addEventListernerOpenPopup",value:function(){this._element.querySelector(".post__image").addEventListener("click",(function(e){new U("#image-zoom",{image:e.target.src,imageAlt:e.target.alt,legend:e.target.nextElementSibling.textContent}).open()}))}},{key:"_addEventListernerLikeButton",value:function(){var e=this;this._element.querySelector(".post__like-button").addEventListener("click",(function(t){e._api.likeCard(e._id,e._isLikedByUser).then((function(t){e._likesArray=t.likes,e._numberOfLikes=Object.keys(t.likes).length,e._isLikedByUser=!e._isLikedByUser,e._element.querySelector(".post__like-button").classList.toggle("post__like_clicked"),e._setLikesNumber()})).catch((function(e){console.log(e)}))}))}},{key:"_addEventListernerRemoveButton",value:function(){var e=this;this._element.querySelector(".post__delete-button").addEventListener("click",(function(t){new F("#delete-form",(function(){e._api.deleteCard(e._id).then((function(){e._element.remove()})).catch((function(e){console.log(e)}))})).open()}))}},{key:"_setEventListeners",value:function(){this._addEventListernerOpenPopup(),this._addEventListernerLikeButton(),this._isOwned&&this._addEventListernerRemoveButton()}},{key:"createPost",value:function(){return this._element=this._getTemplate(),this._configElement(),this._setEventListeners(),this._element}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===z(o)?o:String(o)),r)}var o}var M=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"setItem",value:function(e){this._container.prepend(e)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var e=this;this.clear(),this._items.forEach((function(t){e._renderer(t)}))}}])&&J(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===$(o)?o:String(o)),r)}var o}var K=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._validationVariables=t,this._formElement=n}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._validationVariables.inputErrorClass),n.textContent=t,n.classList.add(this._validationVariables.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._validationVariables.inputErrorClass),t.classList.remove(this._validationVariables.errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._validationVariables.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._validationVariables.inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_setEventListeners",value:function(){var e=this;this._inputList=Array.from(this._formElement.querySelectorAll(this._validationVariables.inputSelector)),this._buttonElement=this._formElement.querySelector(this._validationVariables.submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&G(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Q(o)?o:String(o)),r)}var o}var X=function(){function e(t){var n=t.name,r=t.description,o=t.avatarLink,i=t.id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n,this._description=r,this._avatarLink=o,this._id=i}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){c.value=this._name,f.value=this._description}},{key:"setUserInfo",value:function(){s.textContent=this._name,l.textContent=this._description}},{key:"setUserPicture",value:function(){o.src=this._avatarLink,o.alt="Foto de ".concat(this._name)}}])&&W(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}g.forEach((function(e){e.paths.forEach((function(t){t.src=e.src}))}));var Z=new E({baseUrl:"https://around.nomoreparties.co/v1/web_ptbr_cohort_03",headers:{authorization:"30daf07f-92e8-4bf2-9f92-48f8d54dd26d","Content-Type":"application/json"}}),ee=Z.getProfileInfo().then((function(e){var t=new X({name:e.name,description:e.about,avatarLink:e.avatar,id:e._id});return t.setUserPicture(),t.setUserInfo(),t})).catch((function(e){console.log(e)})),te=ee.then((function(e){return Z.getInitialCards().then((function(t){var n=new M({items:t,renderer:function(t){var r=new N({_id:t._id,name:t.name,link:t.link,ownerId:t.owner._id,userId:e._id,likesArray:t.likes,templateSelector:"#post",api:Z}).createPost();n.setItem(r)}},".posts");return n}))})).then((function(e){return e.renderItems(),e})).catch((function(e){console.log(e)}));Array.from(document.querySelectorAll(e.formSelector)).map((function(t){return new K(e,t)})).forEach((function(e){e.enableValidation()}));var ne=new F("#profile-form",(function(e){Z.updateProfileInfo({name:e[0].value,about:e[1].value}).then((function(e){new X({name:e.name,description:e.about,avatarLink:e.avatar,id:e._id}).setUserInfo()})).catch((function(e){console.log(e)}))}));u.addEventListener("click",(function(){new X({name:s.textContent,description:l.textContent}).getUserInfo(),ne.open()}));var re=new F("#place-form",(function(e){Promise.all([te,ee,{name:e[0].value,link:e[1].value}]).then((function(e){var t,n,r=(n=3,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1],u=r[2];return Z.postCards(u).then((function(e){var t=new N({_id:e._id,name:e.name,link:e.link,ownerId:e.owner._id,userId:i._id,likesArray:e.likes,templateSelector:"#post",api:Z});console.log(t);var n=t.createPost();o.setItem(n)}))})).catch((function(e){console.log(e)}))})),oe=new F("#profile-image",(function(e){Z.updateProfileImage({avatar:e[0].value}).then((function(e){new X({name:e.name,description:e.about,avatarLink:e.avatar,id:e._id}).setUserPicture()})).catch((function(e){console.log(e)}))}));p.addEventListener("click",(function(){re.open()})),i.addEventListener("click",(function(){oe.open()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBS2hCLGFBQ3pCYSxFQUFhWixRQUFRSCxFQUN2QixHQUNGLElBQ0M1RixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQ2QsR0FDSixJQUVNOEcsR0FBbUIsSUFBSTVILEVUekpBLGtCUzJKM0IsU0FBQ2tILEdBQ0N2RixFQUNHa0csbUJBQW1CLENBQ2xCbkssT0FBUXdKLEVBQVcsR0FBRy9LLFFBRXZCSSxNQUFLLFNBQUNDLEdBQ2MsSUFBSWtKLEVBQVMsQ0FDOUJ0SSxLQUFNWixFQUFJWSxLQUNWdUksWUFBYW5KLEVBQUlnQixNQUNqQm9JLFdBQVlwSixFQUFJa0IsT0FDaEJpSCxHQUFJbkksRUFBSThFLE1BRUc4RSxnQkFDZixJQUNDdkYsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNkLEdBQ0osSUFHRmhHLEVBQVVpRSxpQkFBaUIsU0FBUyxXQUNsQ3NJLEdBQVN0RSxNQUNYLElBRUF4SSxFQUFhd0UsaUJBQWlCLFNBQVMsV0FDckM2SSxHQUFpQjdFLE1BQ25CLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9wdGJyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9wdGJyL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfcHRici93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfcHRici8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfcHRici8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9wdGJyLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfcHRici8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfcHRici8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsIi8vIGNyZWF0aW5nIHBvc3RzXG5cbmNvbnN0IGNhcmRMaXN0U2VsZWN0b3IgPSBcIi5wb3N0c1wiO1xuY29uc3QgcG9zdEZvcm1TZWxlY3RvciA9IFwiI3BsYWNlLWZvcm1cIjtcblxuLy8gdmFsaWRhdGlvblZhcmlhYmxlc1xuXG5jb25zdCB2YWxpZGF0aW9uVmFyaWFibGVzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbi8vIGZpbmRpbmcgcHJvZmlsZSdzIGN1cnJlbnQgaW5mb3JtYXRpb25cbmNvbnN0IHByb2ZpbGVGb3JtU2VsZWN0b3IgPSBcIiNwcm9maWxlLWZvcm1cIjtcbmNvbnN0IHByb2ZpbGVJbWFnZVNlbGVjdG9yID0gXCIjcHJvZmlsZS1pbWFnZVwiO1xuXG5jb25zdCBwcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlXCIpO1xuY29uc3QgcHJvZmlsZUluZm8gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW5mb1wiKTtcbmNvbnN0IHByb2ZpbGVQaWN0dXJlID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BpY3R1cmVcIik7XG5jb25zdCBwcm9maWxlSW1hZ2UgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XG5jb25zdCBlZGl0QnV0dG9uID0gcHJvZmlsZUluZm8ucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcblxuLy8gZmluZGluZyBwcm9maWxlIGZvcm0gY29uc3RhbnRzXG5jb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1mb3JtXCIpO1xuY29uc3QgcHJvZmlsZU5hbWUgPSBwcm9maWxlSW5mby5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5jb25zdCBwcm9maWxlQWJvdXRNZSA9IHByb2ZpbGVJbmZvLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWJvdXQtbWVcIik7XG5jb25zdCBpbnB1dE5hbWUgPSBwcm9maWxlRm9ybS5xdWVyeVNlbGVjdG9yKFwiI25hbWUtaW5wdXRcIik7XG5jb25zdCBpbnB1dEFib3V0TWUgPSBwcm9maWxlRm9ybS5xdWVyeVNlbGVjdG9yKFwiI2Fib3V0LW1lLWlucHV0XCIpO1xuXG4vLyBhZGQgYnV0dG9uXG5cbmNvbnN0IGFkZEJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuXG4vLy8gem9vbSBpbmZvcm1hdGlvbiAvLy9cblxuY29uc3Qgem9vbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2Utem9vbVwiKTtcbmNvbnN0IHpvb21TcGFjZSA9IHpvb20ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fem9vbVwiKTtcbmNvbnN0IHpvb21JbWFnZSA9IHpvb21TcGFjZS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcbmNvbnN0IHpvb21EZXNjcmlwdGlvbiA9IHpvb21TcGFjZS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19kZXNjcmlwdGlvblwiKTtcblxuLy8vIGltYWdlc1xuXG5jb25zdCBoZWFkZXJJbWFnZUltZyA9IG5ldyBVUkwoXCIuLi9pbWFnZXMvaGVhZGVyL19faW1hZ2Uuc3ZnXCIsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBjbG9zZUljb25JbWcgPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL3BvcHVwL2Nsb3NlLWljb24uc3ZnXCIsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBkZWxldGVCdXR0b25JbWcgPSBuZXcgVVJMKFxuICBcIi4uL2ltYWdlcy9wb3N0cy9kZWxldGUtYnV0dG9uLnN2Z1wiLFxuICBpbXBvcnQubWV0YS51cmxcbik7XG5jb25zdCBlZGl0QnV0dG9uSW1nID0gbmV3IFVSTChcbiAgXCIuLi9pbWFnZXMvcHJvZmlsZS9lZGl0X2J1dHRvbi5zdmdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuY29uc3QgcGx1dFNpZ25JbWcgPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL3Byb2ZpbGUvcGx1cy1zaWduLnN2Z1wiLCBpbXBvcnQubWV0YS51cmwpO1xuY29uc3QgZWRpdEltYWdlQnV0dG9uID0gbmV3IFVSTChcbiAgXCIuLi9pbWFnZXMvcHJvZmlsZS9lZGl0LXBpY3R1cmUuc3ZnXCIsXG4gIGltcG9ydC5tZXRhLnVybFxuKTtcblxuY29uc3QgaW1hZ2VzVG9Mb2FkID0gW1xuICB7IHBhdGhzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhlYWRlcl9faW1hZ2VcIiksIHNyYzogaGVhZGVySW1hZ2VJbWcgfSxcbiAge1xuICAgIHBhdGhzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19jbG9zZS1idXR0b25cIiksXG4gICAgc3JjOiBjbG9zZUljb25JbWcsXG4gIH0sXG4gIHtcbiAgICBwYXRoczogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKSxcbiAgICBzcmM6IGVkaXRCdXR0b25JbWcsXG4gIH0sXG4gIHsgcGF0aHM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZmlsZV9fcGx1cy1zaWduXCIpLCBzcmM6IHBsdXRTaWduSW1nIH0sXG4gIHtcbiAgICBwYXRoczogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9maWxlX19lZGl0LXBpY3R1cmVcIiksXG4gICAgc3JjOiBlZGl0SW1hZ2VCdXR0b24sXG4gIH0sXG5dO1xuXG5jb25zdCBhcGlUb2tlbiA9IFwiMzBkYWYwN2YtOTJlOC00YmYyLTlmOTItNDhmOGQ1NGRkMjZkXCI7XG5jb25zdCBncm91cElkID0gXCJ3ZWJfcHRicl9jb2hvcnRfMDNcIjtcblxuZXhwb3J0IHtcbiAgY2FyZExpc3RTZWxlY3RvcixcbiAgdmFsaWRhdGlvblZhcmlhYmxlcyxcbiAgcHJvZmlsZUZvcm1TZWxlY3RvcixcbiAgZWRpdEJ1dHRvbixcbiAgcHJvZmlsZU5hbWUsXG4gIHByb2ZpbGVBYm91dE1lLFxuICBwcm9maWxlUGljdHVyZSxcbiAgaW5wdXROYW1lLFxuICBpbnB1dEFib3V0TWUsXG4gIHBvc3RGb3JtU2VsZWN0b3IsXG4gIGFkZEJ1dHRvbixcbiAgem9vbUltYWdlLFxuICB6b29tRGVzY3JpcHRpb24sXG4gIGltYWdlc1RvTG9hZCxcbiAgYXBpVG9rZW4sXG4gIGdyb3VwSWQsXG4gIHByb2ZpbGVJbWFnZSxcbiAgcHJvZmlsZUltYWdlU2VsZWN0b3IsXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICB0aGlzLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgY29uc3QgdXJsID0gdGhpcy5iYXNlVXJsICsgXCIvY2FyZHNcIjtcbiAgICBjb25zdCBkYXRhID0geyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfTtcbiAgICByZXR1cm4gZmV0Y2godXJsLCBkYXRhKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICAvLyBzZSBvIHNlcnZpZG9yIHJldG9ybmFyIHVtIGVycm8sIHJlamVpdGUgYSBwcm9tZXNzYVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG5cbiAgcG9zdENhcmRzKG5ld1Bvc3QpIHtcbiAgICBjb25zdCB1cmwgPSB0aGlzLmJhc2VVcmwgKyBcIi9jYXJkc1wiO1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuZXdQb3N0Lm5hbWUsIGxpbms6IG5ld1Bvc3QubGluayB9KSxcbiAgICB9O1xuICAgIHJldHVybiBmZXRjaCh1cmwsIGRhdGEpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIC8vIHNlIG8gc2Vydmlkb3IgcmV0b3JuYXIgdW0gZXJybywgcmVqZWl0ZSBhIHByb21lc3NhXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIGNvbnN0IHVybCA9IHRoaXMuYmFzZVVybCArIFwiL2NhcmRzL1wiICsgY2FyZElkO1xuICAgIGNvbnN0IGRhdGEgPSB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycywgbWV0aG9kOiBcIkRFTEVURVwiIH07XG4gICAgcmV0dXJuIGZldGNoKHVybCwgZGF0YSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgLy8gc2UgbyBzZXJ2aWRvciByZXRvcm5hciB1bSBlcnJvLCByZWplaXRlIGEgcHJvbWVzc2FcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxpa2VDYXJkKGNhcmRJZCwgaXNMaWtlZEJ5VXNlcikge1xuICAgIGNvbnN0IG1ldGhvZCA9IGlzTGlrZWRCeVVzZXIgPyBcIkRFTEVURVwiIDogXCJQVVRcIjtcbiAgICBjb25zdCB1cmwgPSB0aGlzLmJhc2VVcmwgKyBcIi9jYXJkcy9saWtlcy9cIiArIGNhcmRJZDtcbiAgICBjb25zdCBkYXRhID0geyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsIG1ldGhvZDogbWV0aG9kIH07XG4gICAgcmV0dXJuIGZldGNoKHVybCwgZGF0YSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgLy8gc2UgbyBzZXJ2aWRvciByZXRvcm5hciB1bSBlcnJvLCByZWplaXRlIGEgcHJvbWVzc2FcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFByb2ZpbGVJbmZvKCkge1xuICAgIGNvbnN0IHVybCA9IHRoaXMuYmFzZVVybCArIFwiL3VzZXJzL21lXCI7XG4gICAgY29uc3QgZGF0YSA9IHsgaGVhZGVyczogdGhpcy5oZWFkZXJzIH07XG5cbiAgICByZXR1cm4gZmV0Y2godXJsLCBkYXRhKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICAvLyBzZSBvIHNlcnZpZG9yIHJldG9ybmFyIHVtIGVycm8sIHJlamVpdGUgYSBwcm9tZXNzYVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlUHJvZmlsZUluZm8ocHJvZmlsZUluZm8pIHtcbiAgICBjb25zdCB1cmwgPSB0aGlzLmJhc2VVcmwgKyBcIi91c2Vycy9tZVwiO1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogcHJvZmlsZUluZm8ubmFtZSxcbiAgICAgICAgYWJvdXQ6IHByb2ZpbGVJbmZvLmFib3V0LFxuICAgICAgfSksXG4gICAgfTtcblxuICAgIHJldHVybiBmZXRjaCh1cmwsIGRhdGEpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIC8vIHNlIG8gc2Vydmlkb3IgcmV0b3JuYXIgdW0gZXJybywgcmVqZWl0ZSBhIHByb21lc3NhXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVQcm9maWxlSW1hZ2UocHJvZmlsZUxpbmspIHtcbiAgICBjb25zdCB1cmwgPSB0aGlzLmJhc2VVcmwgKyBcIi91c2Vycy9tZS9hdmF0YXIgXCI7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IHByb2ZpbGVMaW5rLmF2YXRhcixcbiAgICAgIH0pLFxuICAgIH07XG5cbiAgICByZXR1cm4gZmV0Y2godXJsLCBkYXRhKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICAvLyBzZSBvIHNlcnZpZG9yIHJldG9ybmFyIHVtIGVycm8sIHJlamVpdGUgYSBwcm9tZXNzYVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiXG4gICAgKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2FjdGl2ZVwiKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fYm91bmRIYW5kbGVFc2NDbG9zZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2JvdW5kSGFuZGxlQ2xpY2tPdmVybGF5KTtcbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9ib3VuZENsb3NlKTtcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9fYWN0aXZlXCIpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUNsaWNrT3ZlcmxheShldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fb3ZlcmxheVwiKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRCb3VuZEZ1bmN0aW9ucygpIHtcbiAgICB0aGlzLl9ib3VuZEhhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZEhhbmRsZUNsaWNrT3ZlcmxheSA9IHRoaXMuX2hhbmRsZUNsaWNrT3ZlcmxheS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kQ2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fc2V0Qm91bmRGdW5jdGlvbnMoKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9ib3VuZEhhbmRsZUVzY0Nsb3NlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fYm91bmRIYW5kbGVDbGlja092ZXJsYXkpO1xuICAgIHRoaXMuX3BvcHVwQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2JvdW5kQ2xvc2UpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmltcG9ydCB7IHpvb21JbWFnZSwgem9vbURlc2NyaXB0aW9uIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgeyBpbWFnZSwgaW1hZ2VBbHQsIGxlZ2VuZCB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faW1hZ2UgPSBpbWFnZTtcbiAgICB0aGlzLl9pbWFnZUFsdCA9IGltYWdlQWx0O1xuICAgIHRoaXMuX2xlZ2VuZCA9IGxlZ2VuZDtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgem9vbUltYWdlLnNyYyA9IHRoaXMuX2ltYWdlO1xuICAgIHpvb21JbWFnZS5hbHQgPSB0aGlzLl9pbWFnZUFsdDtcbiAgICB6b29tRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB0aGlzLl9sZWdlbmQ7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0Rm9ybSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3N1Ym1pdEZvcm0gPSBzdWJtaXRGb3JtO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEVsZW1lbnQgPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9wb3B1cElucHV0cyA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XG4gICAgcmV0dXJuIHRoaXMuX3BvcHVwSW5wdXRzO1xuICB9XG5cbiAgX3JlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fc3VibWl0RWxlbWVudC50ZXh0Q29udGVudCA9IFwiU2FsdmFuZG8uLi5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuX3BvcHVwU2VsZWN0b3IgPT0gXCIjZGVsZXRlLWZvcm1cIikge1xuICAgICAgICB0aGlzLl9zdWJtaXRFbGVtZW50LnRleHRDb250ZW50ID0gXCJTaW1cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlNhbHZhclwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9zdWJtaXRGdW5jdGlvbihldnQpIHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLl9yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAgIGNvbnN0IF92YXJpYWJsZXMgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xuICAgIGNvbnN0IHN1Ym1pdEZvcm1Qcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IHJlc3VsdDtcblxuICAgICAgaWYgKF92YXJpYWJsZXNbMF0pIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5fc3VibWl0Rm9ybShfdmFyaWFibGVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuX3N1Ym1pdEZvcm0oKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICB9KTtcblxuICAgIHN1Ym1pdEZvcm1Qcm9taXNlXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuX3JlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgX3NldEJvdW5kRnVuY3Rpb25zKCkge1xuICAgIHN1cGVyLl9zZXRCb3VuZEZ1bmN0aW9ucygpO1xuICAgIHRoaXMuX2JvdW5kc3VibWl0RnVuY3Rpb24gPSB0aGlzLl9zdWJtaXRGdW5jdGlvbi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3ZhcmlhYmxlcyA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwic3VibWl0XCIsXG4gICAgICB0aGlzLl9ib3VuZHN1Ym1pdEZ1bmN0aW9uLFxuICAgICAgZmFsc2VcbiAgICApO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xuICAgIHRoaXMuX3BvcHVwSW5wdXRzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0udmFsdWUgPSBcIlwiO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwic3VibWl0XCIsXG4gICAgICB0aGlzLl9ib3VuZHN1Ym1pdEZ1bmN0aW9uLFxuICAgICAgZmFsc2VcbiAgICApO1xuICB9XG59XG4iLCIvLyBpbXBvcnRpbmcgZnVuY3Rpb25zIGZyb20gdXRpbHNcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vUG9wdXBXaXRoRm9ybS5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIF9pZCxcbiAgICBuYW1lLFxuICAgIGxpbmssXG4gICAgb3duZXJJZCxcbiAgICB1c2VySWQsXG4gICAgbGlrZXNBcnJheSxcbiAgICB0ZW1wbGF0ZVNlbGVjdG9yLFxuICAgIGFwaSxcbiAgfSkge1xuICAgIHRoaXMuX2lkID0gX2lkO1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xuICAgIHRoaXMuX293bmVySWQgPSBvd25lcklkO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9udW1iZXJPZkxpa2VzID0gT2JqZWN0LmtleXMobGlrZXNBcnJheSkubGVuZ3RoO1xuICAgIHRoaXMuX2xpa2VzQXJyYXkgPSBsaWtlc0FycmF5O1xuICAgIHRoaXMuX2lzT3duZWQgPSBvd25lcklkID09IHVzZXJJZCA/IHRydWUgOiBmYWxzZTtcbiAgICB0aGlzLl9pc0xpa2VkQnlVc2VyID0gZmFsc2U7XG4gICAgdGhpcy5fYXBpID0gYXBpO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IHBvc3RFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLnBvc3RcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gcG9zdEVsZW1lbnQ7XG4gIH1cblxuICBfc2V0RGVsZXRlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5faXNPd25lZCkge1xuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvc3RfX2RlbGV0ZS1idXR0b25cIikucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgX3NldExpa2VzTnVtYmVyKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3N0X19saWtlLW51bWJlclwiKS50ZXh0Q29udGVudCA9XG4gICAgICB0aGlzLl9udW1iZXJPZkxpa2VzO1xuICB9XG5cbiAgX3NldExpa2VkQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLl9udW1iZXJPZkxpa2VzID4gMCkge1xuICAgICAgdGhpcy5fbGlrZXNBcnJheS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChpdGVtLl9pZCA9PSB0aGlzLl91c2VySWQpIHtcbiAgICAgICAgICB0aGlzLl9pc0xpa2VkQnlVc2VyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2lzTGlrZWRCeVVzZXIpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9fbGlrZS1idXR0b25cIilcbiAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJwb3N0X19saWtlX2NsaWNrZWRcIik7XG4gICAgfVxuICB9XG5cbiAgX2NvbmZpZ0VsZW1lbnQoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvc3RfX2Rlc2NyaXB0aW9uXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9faW1hZ2VcIikuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zdF9faW1hZ2VcIikuYWx0ID0gYEZvdG8gZGUgJHt0aGlzLl9uYW1lfWA7XG4gICAgdGhpcy5fc2V0RGVsZXRlQnV0dG9uKCk7XG4gICAgdGhpcy5fc2V0TGlrZXNOdW1iZXIoKTtcbiAgICB0aGlzLl9zZXRMaWtlZEJ1dHRvbigpO1xuICB9XG5cbiAgX2FkZEV2ZW50TGlzdGVybmVyT3BlblBvcHVwKCkge1xuICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvc3RfX2ltYWdlXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNpbWFnZS16b29tXCIsIHtcbiAgICAgICAgICBpbWFnZTogZXZ0LnRhcmdldC5zcmMsXG4gICAgICAgICAgaW1hZ2VBbHQ6IGV2dC50YXJnZXQuYWx0LFxuICAgICAgICAgIGxlZ2VuZDogZXZ0LnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQsXG4gICAgICAgIH0pO1xuICAgICAgICBwb3B1cEltYWdlLm9wZW4oKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgX2FkZEV2ZW50TGlzdGVybmVyTGlrZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3N0X19saWtlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICAgIHRoaXMuX2FwaVxuICAgICAgICAgIC5saWtlQ2FyZCh0aGlzLl9pZCwgdGhpcy5faXNMaWtlZEJ5VXNlcilcbiAgICAgICAgICAudGhlbigoaXRlbSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbGlrZXNBcnJheSA9IGl0ZW0ubGlrZXM7XG4gICAgICAgICAgICB0aGlzLl9udW1iZXJPZkxpa2VzID0gT2JqZWN0LmtleXMoaXRlbS5saWtlcykubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5faXNMaWtlZEJ5VXNlciA9ICF0aGlzLl9pc0xpa2VkQnlVc2VyO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudFxuICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3N0X19saWtlLWJ1dHRvblwiKVxuICAgICAgICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcInBvc3RfX2xpa2VfY2xpY2tlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuX3NldExpa2VzTnVtYmVyKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgX2FkZEV2ZW50TGlzdGVybmVyUmVtb3ZlQnV0dG9uKCkge1xuICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvc3RfX2RlbGV0ZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgICBjb25zdCBwb3B1cERlbGV0ZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2RlbGV0ZS1mb3JtXCIsICgpID0+IHtcbiAgICAgICAgICB0aGlzLl9hcGlcbiAgICAgICAgICAgIC5kZWxldGVDYXJkKHRoaXMuX2lkKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBvcHVwRGVsZXRlLm9wZW4oKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVybmVyT3BlblBvcHVwKCk7XG4gICAgdGhpcy5fYWRkRXZlbnRMaXN0ZXJuZXJMaWtlQnV0dG9uKCk7XG4gICAgaWYgKHRoaXMuX2lzT3duZWQpIHtcbiAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVybmVyUmVtb3ZlQnV0dG9uKCk7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlUG9zdCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcblxuICAgIHRoaXMuX2NvbmZpZ0VsZW1lbnQoKTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgc2V0SXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuY2xlYXIoKTtcblxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IodmFsaWRhdGlvblZhcmlhYmxlcywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl92YWxpZGF0aW9uVmFyaWFibGVzID0gdmFsaWRhdGlvblZhcmlhYmxlcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKF9pbnB1dEVsZW1lbnQsIF9lcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBfZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtfaW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIF9pbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uVmFyaWFibGVzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IF9lcnJvck1lc3NhZ2U7XG4gICAgX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25WYXJpYWJsZXMuZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoX2lucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IF9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke19pbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgX2lucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25WYXJpYWJsZXMuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBfZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvblZhcmlhYmxlcy5lcnJvckNsYXNzKTtcbiAgICBfZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoX2lucHV0RWxlbWVudCkge1xuICAgIGlmICghX2lucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoX2lucHV0RWxlbWVudCwgX2lucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKF9pbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChfaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIV9pbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXG4gICAgICAgIHRoaXMuX3ZhbGlkYXRpb25WYXJpYWJsZXMuaW5hY3RpdmVCdXR0b25DbGFzc1xuICAgICAgKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXG4gICAgICAgIHRoaXMuX3ZhbGlkYXRpb25WYXJpYWJsZXMuaW5hY3RpdmVCdXR0b25DbGFzc1xuICAgICAgKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgIHRoaXMuX3ZhbGlkYXRpb25WYXJpYWJsZXMuaW5wdXRTZWxlY3RvclxuICAgICAgKVxuICAgICk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl92YWxpZGF0aW9uVmFyaWFibGVzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcblxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoX2lucHV0RWxlbWVudCkgPT4ge1xuICAgICAgX2lucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoX2lucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgcHJvZmlsZU5hbWUsXG4gIHByb2ZpbGVBYm91dE1lLFxuICBwcm9maWxlUGljdHVyZSxcbiAgaW5wdXROYW1lLFxuICBpbnB1dEFib3V0TWUsXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGRlc2NyaXB0aW9uLCBhdmF0YXJMaW5rLCBpZCB9KSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLl9hdmF0YXJMaW5rID0gYXZhdGFyTGluaztcbiAgICB0aGlzLl9pZCA9IGlkO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgaW5wdXROYW1lLnZhbHVlID0gdGhpcy5fbmFtZTtcbiAgICBpbnB1dEFib3V0TWUudmFsdWUgPSB0aGlzLl9kZXNjcmlwdGlvbjtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKCkge1xuICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICBwcm9maWxlQWJvdXRNZS50ZXh0Q29udGVudCA9IHRoaXMuX2Rlc2NyaXB0aW9uO1xuICB9XG5cbiAgc2V0VXNlclBpY3R1cmUoKSB7XG4gICAgcHJvZmlsZVBpY3R1cmUuc3JjID0gdGhpcy5fYXZhdGFyTGluaztcbiAgICBwcm9maWxlUGljdHVyZS5hbHQgPSBgRm90byBkZSAke3RoaXMuX25hbWV9YDtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcblxuaW1wb3J0IHtcbiAgY2FyZExpc3RTZWxlY3RvcixcbiAgdmFsaWRhdGlvblZhcmlhYmxlcyxcbiAgcHJvZmlsZUZvcm1TZWxlY3RvcixcbiAgZWRpdEJ1dHRvbixcbiAgcHJvZmlsZU5hbWUsXG4gIHByb2ZpbGVBYm91dE1lLFxuICBwb3N0Rm9ybVNlbGVjdG9yLFxuICBhZGRCdXR0b24sXG4gIGltYWdlc1RvTG9hZCxcbiAgYXBpVG9rZW4sXG4gIGdyb3VwSWQsXG4gIHByb2ZpbGVJbWFnZSxcbiAgcHJvZmlsZUltYWdlU2VsZWN0b3IsXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuXG5pbWFnZXNUb0xvYWQuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICBpdGVtLnBhdGhzLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICBwYXRoLnNyYyA9IGl0ZW0uc3JjO1xuICB9KTtcbn0pO1xuXG4vLyBpbml0aW5nIEFQSVxuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL1wiICsgZ3JvdXBJZCxcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IGFwaVRva2VuLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbmNvbnN0IHVzZXJJbmZvUHJvbWlzZSA9IGFwaVxuICAuZ2V0UHJvZmlsZUluZm8oKVxuICAudGhlbigocmVzKSA9PiB7XG4gICAgbGV0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgICAgIG5hbWU6IHJlcy5uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHJlcy5hYm91dCxcbiAgICAgIGF2YXRhckxpbms6IHJlcy5hdmF0YXIsXG4gICAgICBpZDogcmVzLl9pZCxcbiAgICB9KTtcbiAgICB1c2VySW5mby5zZXRVc2VyUGljdHVyZSgpO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKCk7XG4gICAgcmV0dXJuIHVzZXJJbmZvO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVycik7XG4gIH0pO1xuXG5jb25zdCBjYXJkc1NlY3Rpb25Qcm9taXNlID0gdXNlckluZm9Qcm9taXNlXG4gIC50aGVuKCh1c2VySW5mbykgPT4ge1xuICAgIHJldHVybiBhcGkuZ2V0SW5pdGlhbENhcmRzKCkudGhlbigocmVzKSA9PiB7XG4gICAgICBjb25zdCBkZWZhdWx0Q2FyZHMgPSBuZXcgU2VjdGlvbihcbiAgICAgICAge1xuICAgICAgICAgIGl0ZW1zOiByZXMsXG4gICAgICAgICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoe1xuICAgICAgICAgICAgICBfaWQ6IGl0ZW0uX2lkLFxuICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICAgIGxpbms6IGl0ZW0ubGluayxcbiAgICAgICAgICAgICAgb3duZXJJZDogaXRlbS5vd25lci5faWQsXG4gICAgICAgICAgICAgIHVzZXJJZDogdXNlckluZm8uX2lkLFxuICAgICAgICAgICAgICBsaWtlc0FycmF5OiBpdGVtLmxpa2VzLFxuICAgICAgICAgICAgICB0ZW1wbGF0ZVNlbGVjdG9yOiBcIiNwb3N0XCIsXG4gICAgICAgICAgICAgIGFwaTogYXBpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuY3JlYXRlUG9zdCgpO1xuICAgICAgICAgICAgZGVmYXVsdENhcmRzLnNldEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGNhcmRMaXN0U2VsZWN0b3JcbiAgICAgICk7XG4gICAgICByZXR1cm4gZGVmYXVsdENhcmRzO1xuICAgIH0pO1xuICB9KVxuICAudGhlbigoc2VjdGlvbikgPT4ge1xuICAgIHNlY3Rpb24ucmVuZGVySXRlbXMoKTtcbiAgICByZXR1cm4gc2VjdGlvbjtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KTtcblxuLy8gY3JlYXRpbmcgZm9ybSB2YWxpZGF0b3JcblxuY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHZhbGlkYXRpb25WYXJpYWJsZXMuZm9ybVNlbGVjdG9yKVxuKTtcblxuY29uc3QgcGFnZVZhbGlkYXRpb24gPSAoZm9ybUxpc3QpID0+IHtcbiAgY29uc3QgdmFsaWRhdG9yID0gZm9ybUxpc3QubWFwKGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgcmV0dXJuIG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25WYXJpYWJsZXMsIGZvcm0pO1xuICB9KTtcblxuICB2YWxpZGF0b3IuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGl0ZW0uZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn07XG5cbnBhZ2VWYWxpZGF0aW9uKGZvcm1MaXN0KTtcblxuLy8gY3JlYXRpbmcgcHJvZmlsZSBmb3JtXG5cbmNvbnN0IHByb2ZpbGVGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0ocHJvZmlsZUZvcm1TZWxlY3RvciwgKGlucHV0QXJyYXkpID0+IHtcbiAgYXBpXG4gICAgLnVwZGF0ZVByb2ZpbGVJbmZvKHtcbiAgICAgIG5hbWU6IGlucHV0QXJyYXlbMF0udmFsdWUsXG4gICAgICBhYm91dDogaW5wdXRBcnJheVsxXS52YWx1ZSxcbiAgICB9KVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGxldCB1c2VySW5mb0Zvcm0gPSBuZXcgVXNlckluZm8oe1xuICAgICAgICBuYW1lOiByZXMubmFtZSxcbiAgICAgICAgZGVzY3JpcHRpb246IHJlcy5hYm91dCxcbiAgICAgICAgYXZhdGFyTGluazogcmVzLmF2YXRhcixcbiAgICAgICAgaWQ6IHJlcy5faWQsXG4gICAgICB9KTtcbiAgICAgIHVzZXJJbmZvRm9ybS5zZXRVc2VySW5mbygpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59KTtcblxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBsZXQgdXNlckluZm9Gb3JtID0gbmV3IFVzZXJJbmZvKHtcbiAgICBuYW1lOiBwcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICBkZXNjcmlwdGlvbjogcHJvZmlsZUFib3V0TWUudGV4dENvbnRlbnQsXG4gIH0pO1xuICB1c2VySW5mb0Zvcm0uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZUZvcm0ub3BlbigpO1xufSk7XG5cbi8vIGNyZWF0aW5nIGFkZCBuZXcgcG9zdCBmb3JtXG5cbmNvbnN0IHBvc3RGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9zdEZvcm1TZWxlY3RvciwgKGlucHV0QXJyYXkpID0+IHtcbiAgUHJvbWlzZS5hbGwoW1xuICAgIGNhcmRzU2VjdGlvblByb21pc2UsXG4gICAgdXNlckluZm9Qcm9taXNlLFxuICAgIHsgbmFtZTogaW5wdXRBcnJheVswXS52YWx1ZSwgbGluazogaW5wdXRBcnJheVsxXS52YWx1ZSB9LFxuICBdKVxuICAgIC50aGVuKChbY2FyZHNTZWN0aW9uLCB1c2VySW5mbywgcG9zdEluZm9dKSA9PiB7XG4gICAgICByZXR1cm4gYXBpLnBvc3RDYXJkcyhwb3N0SW5mbykudGhlbigoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoe1xuICAgICAgICAgIF9pZDogaXRlbS5faWQsXG4gICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICAgIGxpbms6IGl0ZW0ubGluayxcbiAgICAgICAgICBvd25lcklkOiBpdGVtLm93bmVyLl9pZCxcbiAgICAgICAgICB1c2VySWQ6IHVzZXJJbmZvLl9pZCxcbiAgICAgICAgICBsaWtlc0FycmF5OiBpdGVtLmxpa2VzLFxuICAgICAgICAgIHRlbXBsYXRlU2VsZWN0b3I6IFwiI3Bvc3RcIixcbiAgICAgICAgICBhcGk6IGFwaSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGNhcmQpO1xuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuY3JlYXRlUG9zdCgpO1xuICAgICAgICBjYXJkc1NlY3Rpb24uc2V0SXRlbShjYXJkRWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xufSk7XG5cbmNvbnN0IHByb2ZpbGVJbWFnZUZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgcHJvZmlsZUltYWdlU2VsZWN0b3IsXG4gIChpbnB1dEFycmF5KSA9PiB7XG4gICAgYXBpXG4gICAgICAudXBkYXRlUHJvZmlsZUltYWdlKHtcbiAgICAgICAgYXZhdGFyOiBpbnB1dEFycmF5WzBdLnZhbHVlLFxuICAgICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHVzZXJJbmZvRm9ybSA9IG5ldyBVc2VySW5mbyh7XG4gICAgICAgICAgbmFtZTogcmVzLm5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHJlcy5hYm91dCxcbiAgICAgICAgICBhdmF0YXJMaW5rOiByZXMuYXZhdGFyLFxuICAgICAgICAgIGlkOiByZXMuX2lkLFxuICAgICAgICB9KTtcbiAgICAgICAgdXNlckluZm9Gb3JtLnNldFVzZXJQaWN0dXJlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG4pO1xuXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcG9zdEZvcm0ub3BlbigpO1xufSk7XG5cbnByb2ZpbGVJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwcm9maWxlSW1hZ2VGb3JtLm9wZW4oKTtcbn0pO1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIm8iLCJvYmoiLCJwcm9wIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicCIsImIiLCJkb2N1bWVudCIsImJhc2VVUkkiLCJzZWxmIiwibG9jYXRpb24iLCJocmVmIiwidmFsaWRhdGlvblZhcmlhYmxlcyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwicHJvZmlsZSIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlSW5mbyIsInByb2ZpbGVQaWN0dXJlIiwicHJvZmlsZUltYWdlIiwiZWRpdEJ1dHRvbiIsInByb2ZpbGVGb3JtIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlQWJvdXRNZSIsImlucHV0TmFtZSIsImlucHV0QWJvdXRNZSIsImFkZEJ1dHRvbiIsInpvb21TcGFjZSIsInpvb21JbWFnZSIsInpvb21EZXNjcmlwdGlvbiIsImhlYWRlckltYWdlSW1nIiwiVVJMIiwiY2xvc2VJY29uSW1nIiwiZWRpdEJ1dHRvbkltZyIsInBsdXRTaWduSW1nIiwiZWRpdEltYWdlQnV0dG9uIiwiaW1hZ2VzVG9Mb2FkIiwicGF0aHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic3JjIiwiQXBpIiwib3B0aW9ucyIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJiYXNlVXJsIiwiaGVhZGVycyIsImtleSIsInZhbHVlIiwidXJsIiwiZGF0YSIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJjb25jYXQiLCJzdGF0dXMiLCJuZXdQb3N0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYW1lIiwibGluayIsImNhcmRJZCIsImlzTGlrZWRCeVVzZXIiLCJhYm91dCIsInByb2ZpbGVMaW5rIiwiYXZhdGFyIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwU2VsZWN0b3IiLCJfcG9wdXBDbG9zZUJ1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsIl9zZXRFdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfYm91bmRIYW5kbGVFc2NDbG9zZSIsIl9ib3VuZEhhbmRsZUNsaWNrT3ZlcmxheSIsIl9ib3VuZENsb3NlIiwicmVtb3ZlIiwiZXZ0IiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfaGFuZGxlQ2xpY2tPdmVybGF5IiwiX3NldEJvdW5kRnVuY3Rpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiX3JlZiIsIl90aGlzIiwiaW1hZ2UiLCJpbWFnZUFsdCIsImxlZ2VuZCIsIl9pbWFnZSIsIl9pbWFnZUFsdCIsIl9sZWdlbmQiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0Rm9ybSIsIl9zdWJtaXRGb3JtIiwiX2Zvcm1FbGVtZW50IiwiX3N1Ym1pdEVsZW1lbnQiLCJfcG9wdXBJbnB1dHMiLCJpc0xvYWRpbmciLCJfdGhpczIiLCJwcmV2ZW50RGVmYXVsdCIsIl9yZW5kZXJMb2FkaW5nIiwiX3ZhcmlhYmxlcyIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc29sdmUiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJfYm91bmRzdWJtaXRGdW5jdGlvbiIsIl9zdWJtaXRGdW5jdGlvbiIsImZvckVhY2giLCJpdGVtIiwiQ2FyZCIsIl9pZCIsIm93bmVySWQiLCJ1c2VySWQiLCJsaWtlc0FycmF5IiwidGVtcGxhdGVTZWxlY3RvciIsImFwaSIsIl9uYW1lIiwiX2xpbmsiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9vd25lcklkIiwiX3VzZXJJZCIsIl9udW1iZXJPZkxpa2VzIiwia2V5cyIsImxlbmd0aCIsIl9saWtlc0FycmF5IiwiX2lzT3duZWQiLCJfaXNMaWtlZEJ5VXNlciIsIl9hcGkiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfc2V0RGVsZXRlQnV0dG9uIiwiX3NldExpa2VzTnVtYmVyIiwiX3NldExpa2VkQnV0dG9uIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwib3BlbiIsImxpa2VDYXJkIiwibGlrZXMiLCJ0b2dnbGUiLCJfdGhpczMiLCJkZWxldGVDYXJkIiwiX2FkZEV2ZW50TGlzdGVybmVyT3BlblBvcHVwIiwiX2FkZEV2ZW50TGlzdGVybmVyTGlrZUJ1dHRvbiIsIl9hZGRFdmVudExpc3Rlcm5lclJlbW92ZUJ1dHRvbiIsIl9nZXRUZW1wbGF0ZSIsIl9jb25maWdFbGVtZW50IiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsImlubmVySFRNTCIsImNsZWFyIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX3ZhbGlkYXRpb25WYXJpYWJsZXMiLCJfaW5wdXRFbGVtZW50IiwiX2Vycm9yTWVzc2FnZSIsIl9lcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9pbnB1dExpc3QiLCJzb21lIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9idXR0b25FbGVtZW50IiwiZGlzYWJsZWQiLCJBcnJheSIsImZyb20iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiVXNlckluZm8iLCJkZXNjcmlwdGlvbiIsImF2YXRhckxpbmsiLCJfZGVzY3JpcHRpb24iLCJfYXZhdGFyTGluayIsInBhdGgiLCJhdXRob3JpemF0aW9uIiwidXNlckluZm9Qcm9taXNlIiwiZ2V0UHJvZmlsZUluZm8iLCJ1c2VySW5mbyIsInNldFVzZXJQaWN0dXJlIiwic2V0VXNlckluZm8iLCJjYXJkc1NlY3Rpb25Qcm9taXNlIiwiZ2V0SW5pdGlhbENhcmRzIiwiZGVmYXVsdENhcmRzIiwiY2FyZEVsZW1lbnQiLCJvd25lciIsImNyZWF0ZVBvc3QiLCJzZXRJdGVtIiwic2VjdGlvbiIsInJlbmRlckl0ZW1zIiwibWFwIiwiZm9ybSIsImVuYWJsZVZhbGlkYXRpb24iLCJpbnB1dEFycmF5IiwidXBkYXRlUHJvZmlsZUluZm8iLCJnZXRVc2VySW5mbyIsInBvc3RGb3JtIiwiYWxsIiwiX3JlZjIiLCJjYXJkc1NlY3Rpb24iLCJwb3N0SW5mbyIsInBvc3RDYXJkcyIsImNhcmQiLCJwcm9maWxlSW1hZ2VGb3JtIiwidXBkYXRlUHJvZmlsZUltYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==